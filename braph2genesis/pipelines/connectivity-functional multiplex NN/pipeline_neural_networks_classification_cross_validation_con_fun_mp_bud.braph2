%% Pipeline Neural Networks Classification Cross Validation Connectivity-Functional Multiplex BUD
%
% This is a pipeline script to perform cross validation with classification by neural networks for two groups of subjects with connectivity-functional data and binary undirected graphs at fixed densities.
% 1. It loads a brain atlas from an XLS file (e.g., aal90_atlas.xlsx).
% 2. It loads the connectivity and functional data of two groups of subjects from two directories (e.g., GroupName1 and GroupName2) containing XLS files of each subject.
% 3. It combines both of the modalities into single entity.
% 4. It constructs the dataset using connectivity-functional matrices (CON-FUN) based on graphs (MP-BUD).
% 5. It performs the cross validation.

%% Brain Atlas
ba = ImporterBrainAtlasXLS('WAITBAR', true).get('BA'); % Load a Brain Atlas XLS % Brain Atlas

%% Groups CON-FUN
gr1 = ImporterGroupSubjectCON_FUN_MP_XLS('BA', ba, 'WAITBAR', true).get('GR'); % Load Group 1 from XLS % Group 1
gr2 = ImporterGroupSubjectCON_FUN_MP_XLS('BA', ba, 'WAITBAR', true).get('GR'); % Load Group 2 from XLS % Group 2

%% Dataset Construction
nnd1 = NNData_CON_FUN_MP_BUD('GR', gr1, 'TARGET_NAME', gr1.get('ID')); % NN Dataset for Group 1 % NN Group CON-FUN 1
nnd2 = NNData_CON_FUN_MP_BUD('GR', gr2, 'TARGET_NAME', gr2.get('ID'), 'TEMPLATE', nnd1); % NN Dataset for Group 2 % NN Group CON-FUN 2

%% Cross Validation Setup
nnds = NNClassifierCrossValidation('GR1', nnd1.get('GR_NN'), 'GR2', nnd2.get('GR_NN')); % Set up the cross validation % Cross Validation
